# ğŸ¯ Phase 4 & Phase 5 ì¬ì„¤ê³„ ìµœì¢…ì•ˆ

> **ì‘ì„±ì¼**: 2025-12-12
> **ëª©ì **: ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜í•œ Phase 4/5 ìµœì¢… ì„¤ê³„
> **ì£¼ìš” ë³€ê²½**: CLI ë„êµ¬ ì¶”ê°€, ì •ê¸° íšŒì˜ ì œê±°, 2ì£¼ ìŠ¤í”„ë¦°íŠ¸ ì²´ê³„

---

## ğŸ“Š í•µì‹¬ ê²°ì • ì‚¬í•­

### 1. CLI Tool ë°°ì¹˜: **Phase 5.1 (Week 1-2)**

**ì„ íƒ ì´ìœ **:

- âœ… CLIëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ ë ˆì´ì–´ (UIì™€ ë™ê¸‰)
- âœ… HollonActionsController (ë°±ì—”ë“œ API) â†’ CLI â†’ UI ìˆœì„œê°€ ë…¼ë¦¬ì 
- âœ… Week 3-4 UIê°€ CLIì™€ ë™ì¼í•œ API ì¬ì‚¬ìš©
- âœ… Phase 4 ë¶€ë‹´ ê°ì†Œ

**ëŒ€ì•ˆ (Phase 4)ì´ ë¶€ì ì ˆí•œ ì´ìœ **:

- âŒ Phase 4.3 (Week 5-6)ì€ ì´ë¯¸ Memory & Self-improvementë¡œ ê³„íšë¨
- âŒ Phase 4ì— ì¶”ê°€ ì‹œ ê³¼ë„í•˜ê²Œ ë³µì¡í•´ì§
- âŒ CLIëŠ” í˜‘ì—…(Phase 4.2)ë³´ë‹¤ UI(Phase 5)ì™€ ë” ë°€ì ‘

---

### 2. Phase ì„¸ë¶„í™”: **2ì£¼ ìŠ¤í”„ë¦°íŠ¸ ì²´ê³„**

**êµ¬ì¡°**:

```
Phase 4: í•™ìŠµ ë° ì„±ì¥ (6ì£¼, 3ê°œ ìŠ¤í”„ë¦°íŠ¸)
â”œâ”€â”€ Phase 4.1 (Week 1-2): ì§€ì‹ ì‹œìŠ¤í…œ
â”œâ”€â”€ Phase 4.2 (Week 3-4): ì‹¤ì‹œê°„ í˜‘ì—… ì¸í”„ë¼
â””â”€â”€ Phase 4.3 (Week 5-6): ë©”ëª¨ë¦¬ ë° ìê¸° ê°œì„ 

Phase 5: UI ë° ì™„ì„± (6ì£¼, 3ê°œ ìŠ¤í”„ë¦°íŠ¸)
â”œâ”€â”€ Phase 5.1 (Week 1-2): Backend API & CLI Tool
â”œâ”€â”€ Phase 5.2 (Week 3-4): Interactive Web UI
â””â”€â”€ Phase 5.3 (Week 5-6): ì™¸ë¶€ ì—°ë™ & ë¯¸êµ¬í˜„ ê¸°ëŠ¥ ì™„ì„±
```

**ì¥ì **:

- ğŸ¯ ëª…í™•í•œ ë§ˆì¼ìŠ¤í†¤ (2ì£¼ë§ˆë‹¤ ê²€í†  í¬ì¸íŠ¸)
- ğŸ“Š ì§„í–‰ ì¶”ì  ìš©ì´
- ğŸ”„ ì• ìì¼ ì›ì¹™ ë¶€í•© (ì§§ì€ ì´í„°ë ˆì´ì…˜)
- âš ï¸ ìœ„í—˜ ê´€ë¦¬ (ì¡°ê¸° í”¼ë“œë°±)

---

### 3. ì •ê¸° íšŒì˜ ì œê±° â†’ ì‹¤ì‹œê°„ ë¶„ì„

**ì œê±°ëœ ê¸°ëŠ¥**:

- âŒ **StandupService**: ë§¤ì¼ 09:00 ìë™ íšŒì˜
- âŒ **RetrospectiveService**: ì‚¬ì´í´ ì¢…ë£Œ ì‹œ íšŒê³ 

**ëŒ€ì²´ ê¸°ëŠ¥**:

- âœ… **ContinuousImprovementService**: ì‹¤ì‹œê°„ ì„±ê³¼ ë¶„ì„ ë° ê°œì„ 

**ì´ìœ **:

1. AIëŠ” DBì— ëª¨ë“  ë°ì´í„°ë¥¼ ì´ë¯¸ ê°€ì§€ê³  ìˆìŒ
2. ì£¼ê¸°ì  íšŒì˜ëŠ” ë¶ˆí•„ìš”í•œ Brain Provider í˜¸ì¶œ (ë¹„ìš© ì¦ê°€)
3. ì‹¤ì‹œê°„ ë¶„ì„ì´ ë” íš¨ìœ¨ì :
   - Task ì™„ë£Œ ì‹œ ì¦‰ì‹œ í•™ìŠµ
   - Threshold ì´ˆê³¼ ì‹œë§Œ LLM ì‚¬ìš©
   - ë§¤ì¼ ìƒˆë²½ 2ì‹œ ìë™ ë¶„ì„ (ë¶€í•˜ ì ì€ ì‹œê°„)

---

## ğŸš€ Phase 4.2: ì‹¤ì‹œê°„ í˜‘ì—… ì¸í”„ë¼

### ContinuousImprovementService êµ¬ì¡°

```typescript
@Injectable()
export class ContinuousImprovementService {
  // ë§¤ì¼ ìë™ ì‹¤í–‰ (ìƒˆë²½ 2ì‹œ - ë¶€í•˜ ì ì€ ì‹œê°„)
  @Cron('0 2 * * *')
  async analyzeDailyPerformance() {
    const teams = await this.teamService.findAll();

    for (const team of teams) {
      // 1. ë©”íŠ¸ë¦­ ìˆ˜ì§‘ (DB ì¿¼ë¦¬ë§Œ, Brain Provider í˜¸ì¶œ ì—†ìŒ)
      const metrics = await this.collectMetrics(team, 'daily');

      // 2. Threshold ì²´í¬
      if (this.needsImprovement(metrics)) {
        // 3. ë¬¸ì œ íŒ¨í„´ ë¶„ì„ (LLM ì‚¬ìš©ì€ ì—¬ê¸°ë§Œ)
        const patterns = await this.analyzePatterns(metrics);

        // 4. ê°œì„  ì•¡ì…˜ ìë™ ìƒì„±
        await this.createImprovementTasks(patterns.recommendations, team);
      }
    }
  }

  // Task ì™„ë£Œ ì‹œ ì¦‰ì‹œ ë¶„ì„ (RetrospectiveService ëŒ€ì²´)
  @OnEvent('task.completed')
  async onTaskCompleted(event: { task: Task; hollon: Hollon }) {
    // 1. ì§€ì‹ ì¶”ì¶œ (ì¦‰ì‹œ)
    await this.knowledgeExtractionService.extractFromTask(task);

    // 2. ì„±ê³¼ ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸
    await this.performanceAnalyzer.updateMetrics(hollon.id, task);

    // 3. ë°˜ë³µ íŒ¨í„´ ê°ì§€
    const repeatedIssues = await this.detectRepeatedPatterns(task);
    if (repeatedIssues.length > 0) {
      await this.createPreventionTask(repeatedIssues, hollon.teamId);
    }
  }
}
```

### ë¹„êµí‘œ

| ì¸¡ë©´                    | ê¸°ì¡´ (ì •ê¸° íšŒì˜) | ì‹ ê·œ (ì‹¤ì‹œê°„ ë¶„ì„)  |
| ----------------------- | ---------------- | ------------------- |
| **ë¹ˆë„**                | ë§¤ì¼ 09:00       | Threshold ì´ˆê³¼ ì‹œë§Œ |
| **Brain Provider í˜¸ì¶œ** | ëª¨ë“  Hollon      | í•„ìš” ì‹œì—ë§Œ         |
| **ë°ì´í„° ìˆ˜ì§‘**         | Hollonì—ê²Œ ì§ˆë¬¸  | DB ìë™ ìˆ˜ì§‘        |
| **ë¶„ì„ ì‹œì **           | ì£¼ê¸°ì  (09:00)   | ì´ë²¤íŠ¸ ê¸°ë°˜ (ì¦‰ì‹œ)  |
| **ë¹„ìš©**                | ë†’ìŒ             | ë‚®ìŒ                |

---

## ğŸ¤– Phase 5.1: Hollon CLI Tool

### í•µì‹¬ ì»¨ì…‰: Passive â†’ Active Hollon

**ê¸°ì¡´ (Cron ê¸°ë°˜, Passive)**:

- â° 10ë¶„ë§ˆë‹¤ Cronì´ Hollon ê¹¨ì›€
- ğŸ”„ Hollonì€ ì‹œìŠ¤í…œì´ í˜¸ì¶œí•  ë•Œê¹Œì§€ ëŒ€ê¸°
- ğŸ“Š ìƒíƒœ ì „íŒŒ: ìµœëŒ€ 10ë¶„ ì§€ì—°

**ì‹ ê·œ (CLI ê¸°ë°˜, Active)**:

- ğŸ¤– Brain Provider ì‹¤í–‰ ì¤‘ **LLMì´ ì§ì ‘ CLI ì‚¬ìš©**
- ğŸ’¬ ì¦‰ì‹œ ë¶€ëª¨ì—ê²Œ ìƒíƒœ ë³´ê³ : `hollon-cli notify parent "50% complete"`
- â“ íŒ€ì—ê²Œ ì§ˆë¬¸: `hollon-cli ask team "API endpoint ì–´ë””?"`
- ğŸš¨ ë¸”ë¡œì»¤ ë°œìƒ ì‹œ ì¦‰ì‹œ ì—ìŠ¤ì»¬ë ˆì´ì…˜: `hollon-cli escalate "dependency blocked"`

### CLI ëª…ë ¹ì–´

```bash
# 1. ë¶€ëª¨/íŒ€/ë§¤ë‹ˆì €ì—ê²Œ ì•Œë¦¼
hollon-cli notify <target> <message>
  # hollon-cli notify parent "Task 50% complete, API integration done"
  # hollon-cli notify team "Frontend deployment completed"
  # hollon-cli notify manager "Need approval for architecture change"

# 2. ì§ˆë¬¸
hollon-cli ask <target> <question>
  # hollon-cli ask team "Where is the API endpoint documentation?"
  # hollon-cli ask hollon:abc-123 "Can you review this PR?"

# 3. ì—ìŠ¤ì»¬ë ˆì´ì…˜
hollon-cli escalate <reason>
  # hollon-cli escalate "Dependency library version conflict"

# 4. ì§€ì‹ ê²€ìƒ‰
hollon-cli search <query>
  # hollon-cli search "authentication implementation"

# 5. ë‹¤ìŒ Task ì¡°íšŒ
hollon-cli next-task
```

### ì´ì 

| ì¸¡ë©´          | ê¸°ì¡´ (Cron)                | ì‹ ê·œ (CLI)             |
| ------------- | -------------------------- | ---------------------- |
| **ììœ¨ì„±**    | Passive (ì‹œìŠ¤í…œì´ ê¹¨ì›€)    | Active (Hollonì´ ê²°ì •) |
| **ì§€ì—° ì‹œê°„** | ìµœëŒ€ 10ë¶„                  | ì¦‰ì‹œ (0ì´ˆ)             |
| **ë¹„ìš©**      | ì£¼ê¸°ì  Brain Provider í˜¸ì¶œ | í•„ìš” ì‹œì—ë§Œ í˜¸ì¶œ       |
| **ì§€ëŠ¥**      | ì‹œìŠ¤í…œì´ ê²°ì •              | Hollonì´ ê²°ì •          |

---

## ğŸ“… ì „ì²´ íƒ€ì„ë¼ì¸

```
Phase 1: 6ì£¼ (Week 1-6) âœ… ì™„ë£Œ
Phase 2: 6ì£¼ (Week 7-12) âœ… ì™„ë£Œ
Phase 3: 6ì£¼ (Week 13-18) âœ… ì™„ë£Œ

Phase 4: 6ì£¼ (Week 19-24, 3ê°œ ìŠ¤í”„ë¦°íŠ¸)
â”œâ”€â”€ Phase 4.1 (Week 19-20): ì§€ì‹ ì‹œìŠ¤í…œ
â”œâ”€â”€ Phase 4.2 (Week 21-22): ì‹¤ì‹œê°„ í˜‘ì—… ì¸í”„ë¼
â””â”€â”€ Phase 4.3 (Week 23-24): ë©”ëª¨ë¦¬ ë° ìê¸° ê°œì„ 

Phase 5: 6ì£¼ (Week 25-30, 3ê°œ ìŠ¤í”„ë¦°íŠ¸)
â”œâ”€â”€ Phase 5.1 (Week 25-26): Backend API & CLI Tool
â”œâ”€â”€ Phase 5.2 (Week 27-28): Interactive Web UI
â””â”€â”€ Phase 5.3 (Week 29-30): ì™¸ë¶€ ì—°ë™ & ì™„ì„±

ì´: 30ì£¼
```

---

## âœ… SSOT ë‹¬ì„±ë„

| SSOT ì„¹ì…˜                    | Phase 3 | Phase 4     | Phase 5 |
| ---------------------------- | ------- | ----------- | ------- |
| Â§ 1-2 (ë¹„ì „ & ì•„í‚¤í…ì²˜)      | âœ…      | âœ…          | âœ…      |
| Â§ 3 (í•µì‹¬ ì—”í‹°í‹°)            | âœ…      | âœ…          | âœ… + UI |
| Â§ 4.4 (í˜‘ì—… íë¦„)            | âš ï¸      | âœ…          | âœ… + UI |
| Â§ 5.6 (í•˜ì´ë¸Œë¦¬ë“œ RAG)       | âŒ      | âœ…          | âœ…      |
| Â§ 6.8 (ììœ¨ Goal ìƒì„±)       | âŒ      | âŒ          | âœ… ì´ˆê¸° |
| Â§ 7.3 (ì§€ì†ì  ê°œì„ )          | âŒ      | âœ…          | âœ…      |
| ~~Â§ 8.2 (ì •ê¸° íšŒì˜ ìë™í™”)~~ | âŒ      | âŒ **ì œê±°** | -       |
| Â§ 8.3 (Contract ì‹œìŠ¤í…œ)      | âŒ      | âŒ          | âœ…      |

**SSOT ë‹¬ì„±ë„**:

- Phase 3: 75%
- **Phase 4: 90%** (ContinuousImprovement í¬í•¨)
- **Phase 5: 100%** (CLI + UI + ë¯¸êµ¬í˜„ ì™„ì„±)

---

## ğŸ“ ì—…ë°ì´íŠ¸ëœ ë¬¸ì„œ

1. âœ… **`docs/phase4-revised-plan.md`**
   - Phase 4.1, 4.2, 4.3 ìŠ¤í”„ë¦°íŠ¸ êµ¬ì¡° ë°˜ì˜
   - StandupService/RetrospectiveService ì œê±°
   - ContinuousImprovementService ì¶”ê°€

2. âœ… **`docs/phase5-plan.md`**
   - Phase 5.1, 5.2, 5.3 ìŠ¤í”„ë¦°íŠ¸ êµ¬ì¡° ë°˜ì˜
   - Phase 5.1ì— Hollon CLI Tool ì¶”ê°€
   - HollonActionsController ìƒì„¸ êµ¬í˜„ ëª…ì„¸

3. âœ… **`docs/blueprint-update-proposal.md`**
   - ì „ì²´ ë³€ê²½ ì‚¬í•­ ìš”ì•½
   - ê¸°ëŠ¥ ì¬ë°°ì¹˜ í…Œì´ë¸” ì—…ë°ì´íŠ¸
   - CLI ë„êµ¬ ë° ContinuousImprovement ì¶”ê°€

4. âœ… **`docs/phase-redesign-summary.md`** (ë³¸ ë¬¸ì„œ)
   - ìµœì¢… ê²°ì • ì‚¬í•­ ìš”ì•½
   - CLI ë°°ì¹˜ ì´ìœ 
   - ìŠ¤í”„ë¦°íŠ¸ ì²´ê³„ ì„¤ëª…

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. **Blueprint.md ì—…ë°ì´íŠ¸ í•„ìš”**
   - Phase 4, Phase 5 ì„¹ì…˜ ìˆ˜ì • (ë¼ì¸ ì•½ 4208-4260)
   - ìŠ¤í”„ë¦°íŠ¸ êµ¬ì¡° ë°˜ì˜
   - CLI ë„êµ¬ ë° ContinuousImprovement ì¶”ê°€

2. **Phase 4.1 ì‹œì‘ ì¤€ë¹„**
   - Knowledge System êµ¬í˜„ ê³„íš ê²€í† 
   - Vector/Graph RAG ê¸°ìˆ  ìŠ¤íƒ í™•ì •
   - E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±

---

**ë¬¸ì„œ ë²„ì „**: 2.0 (ìµœì¢…)
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-12-12
**ì‘ì„±ì**: Claude Code
**ìƒíƒœ**: í™•ì • (ê²€í†  ì™„ë£Œ)
